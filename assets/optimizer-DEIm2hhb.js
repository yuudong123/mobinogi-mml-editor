const c=new Worker(new URL(""+new URL("mmlOptimizerWorker-yHlGUEBU.js",import.meta.url).href,import.meta.url),{type:"module"});c.onmessage=t=>{try{const{trackId:e,optimizedMML:s,originalBody:a}=t.data,i=window.mobileApp,n=i?.getProject?.();if(!n)return;const r=n.tracks.find(m=>m.id===e);if(!r)return;r.optimizedMML=s||"",r.originalBody=a??"";const o=i?.getUIControls?.();o&&typeof o.refreshTracksPanel=="function"&&o.refreshTracksPanel()}catch{}};function p(t,e){try{c.postMessage({track:e,tpqn:t.tpqn,defaultBpm:t.bpm})}catch{}}function l(t){if(t)for(const e of t.tracks)p(t,e)}export{l as scheduleOptimizeAll,p as scheduleOptimizeTrack};
