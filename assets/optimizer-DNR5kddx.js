const s=new Worker(new URL(""+new URL("mmlOptimizerWorker-BJRHh5wT.js",import.meta.url).href,import.meta.url),{type:"module"});s.onmessage=t=>{try{const{trackId:e,optimizedMML:c,originalBody:a}=t.data,n=window.mobileApp,i=n?.getProject?.();if(!i)return;const r=i.tracks.find(m=>m.id===e);if(!r)return;r.optimizedMML=c||"",r.originalBody=a??"";const o=n?.getUIControls?.();o&&typeof o.refreshTracksPanel=="function"&&o.refreshTracksPanel()}catch{}};function p(t,e){try{s.postMessage({track:e,tpqn:t.tpqn,tempoAnchors:t.tempoAnchors||[],defaultBpm:t.bpm})}catch{}}function l(t){if(t)for(const e of t.tracks)p(t,e)}export{l as scheduleOptimizeAll,p as scheduleOptimizeTrack};
